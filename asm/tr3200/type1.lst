2	00100000  	.ORG	100000	
4	00100000  	MOV	%sp,020000	0D00C08000000200
8	00100008  	MOV	%r10,10FF00	0A00C08000FF1000
9	00100010 begin_search_tda		
10	00100010  	ADD	%r10,%r10,100	4A018444
11	00100014  	IFEQ	%r10,112100	0A00C0A000211100
12	0010001c  	JMP	end_search_tda	4C009038
14	00100020  	LOAD.B	%r0,%r10	400100C2
15	00100024  	IFNEQ	%r0,FF	E01F80A1
16	00100028  	JMP	begin_search_tda	10009038
18	0010002c  	ADD	%r1,%r10,1	41058044
19	00100030  	LOAD.B	%r0,%r1	200000C2
20	00100034  	IFNEQ	%r0,0E	C00180A1
21	00100038  	JMP	begin_search_tda	10009038
23	0010003c  	ADD	%r1,%r10,2	41098044
24	00100040  	LOAD.B	%r0,%r1	200000C2
25	00100044  	IFNEQ	%r0,01	200080A1
26	00100048  	JMP	begin_search_tda	10009038
28	0010004c end_search_tda		
29	0010004c  	IFEQ	%r10,112100	0A00C0A000211100
30	00100054  	JMP	crash	88029038
31	00100058  	STORE	TDA_base_dev,%r10	0A2080C4
33	0010005c  	IFEQ	%r10,FFFFFFFF	0A00C0A0FFFFFFFF
34	00100064  	JMP	crash	88029038
37	00100068  	ADD	%r0,%r10,0A	40298044
39	0010006c  	MOV	%r1,001000	01008280
40	00100070  	STORE	%r0,%r1	010000C4
42	00100074  	ADD	%r0,%r10,08	40218044
43	00100078  	MOV	%r1,0	01008080
44	0010007c  	STORE.W	%r0,%r1	010000C5
47	00100080  	MOV	%r0,001000	00008280
48	00100084  	MOV	%r1,40	01088080
49	00100088  	CALL	clr_screen	94049039
53	0010008c  	MOV	%r10,10FF00	0A00C08000FF1000
54	00100094 begin_search_gkeyb		
55	00100094  	ADD	%r10,%r10,100	4A018444
56	00100098  	IFEQ	%r10,112100	0A00C0A000211100
57	001000a0  	JMP	end_search_gkeyb	D0009038
59	001000a4  	LOAD.B	%r0,%r10	400100C2
60	001000a8  	IFNEQ	%r0,FF	E01F80A1
61	001000ac  	JMP	begin_search_gkeyb	94009038
63	001000b0  	ADD	%r1,%r10,1	41058044
64	001000b4  	LOAD.B	%r0,%r1	200000C2
65	001000b8  	IFNEQ	%r0,03	600080A1
66	001000bc  	JMP	begin_search_gkeyb	94009038
68	001000c0  	ADD	%r1,%r10,2	41098044
69	001000c4  	LOAD.B	%r0,%r1	200000C2
70	001000c8  	IFNEQ	%r0,01	200080A1
71	001000cc  	JMP	begin_search_gkeyb	94009038
73	001000d0 end_search_gkeyb		
74	001000d0  	IFEQ	%r10,112100	0A00C0A000211100
75	001000d8  	JMP	not_found	74029038
77	001000dc  	STORE	GKeyb_base_dev,%r10	8A2080C4
80	001000e0  	MOV	%r0,0	00008080
81	001000e4  	STORE.B	col,%r0	000080C6
82	001000e8  	STORE.B	row,%r0	200080C6
85	001000ec loop		
87	001000ec  	LOAD.B	%r1,col	010080C2
88	001000f0  	LOAD.B	%r0,row	200080C2
89	001000f4  	CALL	get_offset_from_row_col	90029039
90	001000f8  	ADD	%r0,%r0,001000	0000C04400100000
93	00100100  	LOAD.W	%r3,blink	430080C1
94	00100104  	ADD	%r3,%r3,1	63048044
95	00100108  	IFL	%r3,256	032080A2
96	0010010c  	RJMP	blink_off	2000803A
98	00100110 blink_on		
99	00100110  	IFL	%r3,512	034080A2
100	00100114  	RJMP	blink_on_real	0400803A
101	00100118  	MOV	%r3,0	03008080
103	0010011c blink_on_real		
104	0010011c  	STORE.W	blink,%r3	430080C5
106	00100120  	ADD	%r8,%r0,1	08048044
107	00100124  	MOV	%r3,F4	831E8080
108	00100128  	STORE.B	%r8,%r3	030100C6
110	0010012c  	JMP	read_keyb	40019038
112	00100130 blink_off		
113	00100130  	STORE.W	blink,%r3	430080C5
115	00100134  	ADD	%r8,%r0,1	08048044
116	00100138  	MOV	%r3,4F	E3098080
117	0010013c  	STORE.B	%r8,%r3	030100C6
121	00100140 read_keyb		
122	00100140  	MOV	%r8,%r0	08000080
123	00100144  	LOAD	%r0,GKeyb_base_dev	802080C0
124	00100148  	ADD	%r1,%r0,12	01488044
126	0010014c  	LOAD.W	%r2,%r1	220000C1
127	00100150  	IFEQ	%r2,0	020080A0
128	00100154  	JMP	loop	EC009038
130	00100158  	ADD	%r1,%r0,08	01208044
131	0010015c  	MOV	%r2,1	22008080
132	00100160  	STORE.W	%r1,%r2	220000C5
135	00100164  	ADD	%r1,%r0,0A	01288044
136	00100168  	LOAD.B	%r4,%r1	240000C2
138	0010016c  	IFEQ	%r4,0D	A40180A0
139	00100170  	JMP	enter	B8019038
141	00100174  	IFEQ	%r4,08	040180A0
142	00100178  	JMP	delete	A8019038
144	0010017c  	IFEQ	%r4,14	840280A0
145	00100180  	JMP	arrow_left	C8019038
147	00100184  	IFEQ	%r4,15	A40280A0
148	00100188  	JMP	arrow_right	DC019038
150	0010018c  	IFL	%r4,20	040480A2
151	00100190  	JMP	loop	EC009038
153	00100194  	OR	%r4,%r4,4F00	8400C041004F0000
154	0010019c  	STORE.W	%r8,%r4	040100C5
156	001001a0  	CALL	inc_cursor	F0019039
158	001001a4  	JMP	loop	EC009038
161	001001a8 delete		
162	001001a8  	MOV	%r4,4F20	04E48980
163	001001ac  	STORE.W	%r8,%r4	040100C5
164	001001b0  	CALL	dec_cursor	40029039
166	001001b4  	JMP	loop	EC009038
169	001001b8 enter		
170	001001b8  	MOV	%r4,4F20	04E48980
171	001001bc  	STORE.W	%r8,%r4	040100C5
172	001001c0  	CALL	next_line	20029039
173	001001c4  	JMP	loop	EC009038
176	001001c8 arrow_left		
178	001001c8  	ADD	%r8,%r8,1	08058044
179	001001cc  	MOV	%r4,4F	E4098080
180	001001d0  	STORE.B	%r8,%r4	040100C6
181	001001d4  	CALL	dec_cursor	40029039
182	001001d8  	JMP	loop	EC009038
185	001001dc arrow_right		
187	001001dc  	ADD	%r8,%r8,1	08058044
188	001001e0  	MOV	%r4,4F	E4098080
189	001001e4  	STORE.B	%r8,%r4	040100C6
190	001001e8  	CALL	inc_cursor	F0019039
191	001001ec  	JMP	loop	EC009038
194	001001f0 inc_cursor		
195	001001f0  	LOAD.B	%r0,col	000080C2
196	001001f4  	ADD	%r0,%r0,1	00048044
197	001001f8  	IFL	%r0,40	000580A2
198	001001fc  	RJMP	inc_cursor_end	1800803A
200	00100200  	MOV	%r0,0	00008080
201	00100204  	LOAD	%r1,row	210080C0
202	00100208  	ADD	%r1,%r1,1	21048044
203	0010020c  	IFEQ	%r1,30	C10380A0
204	00100210  	MOV	%r1,0	01008080
205	00100214  	STORE.B	row,%r1	210080C6
207	00100218 inc_cursor_end		
208	00100218  	STORE.B	col,%r0	000080C6
210	0010021c  	RET		00000001
213	00100220 next_line		
214	00100220  	LOAD	%r1,row	210080C0
215	00100224  	ADD	%r1,%r1,1	21048044
216	00100228  	IFEQ	%r1,30	C10380A0
217	0010022c  	MOV	%r1,0	01008080
218	00100230  	STORE.B	row,%r1	210080C6
220	00100234  	MOV	%r0,0	00008080
221	00100238  	STORE.B	col,%r0	000080C6
223	0010023c  	RET		00000001
226	00100240 dec_cursor		
227	00100240  	LOAD.B	%r0,col	000080C2
228	00100244  	SUB	%r0,%r0,1	00048046
229	00100248  	IFSL	%r0,0	000080A3
230	0010024c  	RJMP	dec_cursor_reset_col	0400803A
231	00100250  	RJMP	dec_cursor_end	1800803A
233	00100254 dec_cursor_reset_col		
234	00100254  	MOV	%r0,39	E0048080
235	00100258  	LOAD	%r1,row	210080C0
236	0010025c  	SUB	%r1,%r1,1	21048046
237	00100260  	IFSL	%r1,0	010080A3
238	00100264  	MOV	%r1,29	A1038080
239	00100268  	STORE.B	row,%r1	210080C6
241	0010026c dec_cursor_end		
242	0010026c  	STORE.B	col,%r0	000080C6
244	00100270  	RET		00000001
247	00100274 not_found		
249	00100274  	MOV	%r1,001000	01008280
250	00100278  	MOV	%r0,str_not_found	0000C08008051000
251	00100280  	MOV	%r2,4D	A2098080
252	00100284  	CALL	print	A0029039
254	00100288 crash		
255	00100288  	SLEEP		00000000
5	0010028c  	.DD	BEEFCAFE	FECAEFBE
13	00100290 get_offset_from_row_col		
16	00100290  	LLS	%r1,%r1,1	2104804A
18	00100294  	MUL	%r0,%r0,80	00408150
19	00100298  	ADD	%r0,%r0,%r1	00040044
21	0010029c  	RET		00000001
29	001002a0 print		
30	001002a0  	LLS	%r2,%r2,8	4220804A
32	001002a4 print_loop		
33	001002a4  	LOAD.B	%r3,%r0	030000C2
34	001002a8  	IFEQ	%r3,0	030080A0
35	001002ac  	RJMP	print_end	1400803A
37	001002b0  	OR	%r3,%r3,%r2	63080041
38	001002b4  	STORE.W	%r1,%r3	230000C5
40	001002b8  	ADD	%r1,%r1,2	21088044
41	001002bc  	ADD	%r0,%r0,1	00048044
42	001002c0  	RJMP	print_loop	E0FFFF3A
44	001002c4 print_end		
46	001002c4  	RET		00000001
54	001002c8 print_hex_b		
55	001002c8  	PUSH	%r5	0500002A
57	001002cc  	LLS	%r2,%r2,8	4220804A
58	001002d0  	LRS	%r5,%r0,4	0510804B
59	001002d4  	AND	%r0,%r0,0000000F	003C8040
64	001002d8  	ADD	%r5,%r5,55	A5DC8044
65	001002dc  	IFL	%r5,A	250880A2
66	001002e0  	SUB	%r5,%r5,7	A51C8046
68	001002e4  	OR	%r5,%r5,%r2	A5080041
69	001002e8  	STORE.W	%r1,%r5	250000C5
72	001002ec  	ADD	%r1,%r1,2	21088044
73	001002f0  	ADD	%r5,%r0,55	05DC8044
74	001002f4  	IFL	%r5,A	250880A2
75	001002f8  	SUB	%r5,%r5,7	A51C8046
77	001002fc  	OR	%r5,%r5,%r2	A5080041
78	00100300  	STORE.W	%r1,%r5	250000C5
80	00100304  	POP	%r5	05000029
82	00100308  	RET		00000001
90	0010030c print_hex_w		
91	0010030c  	PUSH	%r5	0500002A
93	00100310  	LLS	%r2,%r2,8	4220804A
95	00100314  	LRS	%r5,%r0,12	0530804B
98	00100318  	ADD	%r5,%r5,55	A5DC8044
99	0010031c  	IFL	%r5,A	250880A2
100	00100320  	SUB	%r5,%r5,7	A51C8046
102	00100324  	OR	%r5,%r5,%r2	A5080041
103	00100328  	STORE.W	%r1,%r5	250000C5
106	0010032c  	LRS	%r5,%r0,8	0520804B
107	00100330  	AND	%r5,%r5,0F	A53C8040
109	00100334  	ADD	%r1,%r1,2	21088044
110	00100338  	ADD	%r5,%r5,55	A5DC8044
111	0010033c  	IFL	%r5,A	250880A2
112	00100340  	SUB	%r5,%r5,7	A51C8046
114	00100344  	OR	%r5,%r5,%r2	A5080041
115	00100348  	STORE.W	%r1,%r5	250000C5
118	0010034c  	LRS	%r5,%r0,4	0510804B
119	00100350  	AND	%r5,%r5,0F	A53C8040
121	00100354  	ADD	%r1,%r1,2	21088044
122	00100358  	ADD	%r5,%r5,55	A5DC8044
123	0010035c  	IFL	%r5,A	250880A2
124	00100360  	SUB	%r5,%r5,7	A51C8046
126	00100364  	OR	%r5,%r5,%r2	A5080041
127	00100368  	STORE.W	%r1,%r5	250000C5
130	0010036c  	AND	%r5,%r0,0F	053C8040
132	00100370  	ADD	%r1,%r1,2	21088044
133	00100374  	ADD	%r5,%r5,55	A5DC8044
134	00100378  	IFL	%r5,A	250880A2
135	0010037c  	SUB	%r5,%r5,7	A51C8046
137	00100380  	OR	%r5,%r5,%r2	A5080041
138	00100384  	STORE.W	%r1,%r5	250000C5
140	00100388  	POP	%r5	05000029
142	0010038c  	RET		00000001
150	00100390 print_hex_dw		
151	00100390  	PUSH	%r5	0500002A
153	00100394  	LLS	%r2,%r2,8	4220804A
155	00100398  	LRS	%r5,%r0,28	0570804B
158	0010039c  	ADD	%r5,%r5,55	A5DC8044
159	001003a0  	IFL	%r5,A	250880A2
160	001003a4  	SUB	%r5,%r5,7	A51C8046
162	001003a8  	OR	%r5,%r5,%r2	A5080041
163	001003ac  	STORE.W	%r1,%r5	250000C5
166	001003b0  	LRS	%r5,%r0,24	0560804B
167	001003b4  	AND	%r5,%r5,0F	A53C8040
169	001003b8  	ADD	%r1,%r1,2	21088044
170	001003bc  	ADD	%r5,%r5,55	A5DC8044
171	001003c0  	IFL	%r5,A	250880A2
172	001003c4  	SUB	%r5,%r5,7	A51C8046
174	001003c8  	OR	%r5,%r5,%r2	A5080041
175	001003cc  	STORE.W	%r1,%r5	250000C5
178	001003d0  	LRS	%r5,%r0,20	0550804B
179	001003d4  	AND	%r5,%r5,0F	A53C8040
181	001003d8  	ADD	%r1,%r1,2	21088044
182	001003dc  	ADD	%r5,%r5,55	A5DC8044
183	001003e0  	IFL	%r5,A	250880A2
184	001003e4  	SUB	%r5,%r5,7	A51C8046
186	001003e8  	OR	%r5,%r5,%r2	A5080041
187	001003ec  	STORE.W	%r1,%r5	250000C5
190	001003f0  	LRS	%r5,%r0,16	0540804B
191	001003f4  	AND	%r5,%r5,0F	A53C8040
193	001003f8  	ADD	%r1,%r1,2	21088044
194	001003fc  	ADD	%r5,%r5,55	A5DC8044
195	00100400  	IFL	%r5,A	250880A2
196	00100404  	SUB	%r5,%r5,7	A51C8046
198	00100408  	OR	%r5,%r5,%r2	A5080041
199	0010040c  	STORE.W	%r1,%r5	250000C5
202	00100410  	LRS	%r5,%r0,12	0530804B
203	00100414  	AND	%r5,%r5,0F	A53C8040
205	00100418  	ADD	%r1,%r1,2	21088044
206	0010041c  	ADD	%r5,%r5,55	A5DC8044
207	00100420  	IFL	%r5,A	250880A2
208	00100424  	SUB	%r5,%r5,7	A51C8046
210	00100428  	OR	%r5,%r5,%r2	A5080041
211	0010042c  	STORE.W	%r1,%r5	250000C5
214	00100430  	LRS	%r5,%r0,8	0520804B
215	00100434  	AND	%r5,%r5,0F	A53C8040
217	00100438  	ADD	%r1,%r1,2	21088044
218	0010043c  	ADD	%r5,%r5,55	A5DC8044
219	00100440  	IFL	%r5,A	250880A2
220	00100444  	SUB	%r5,%r5,7	A51C8046
222	00100448  	OR	%r5,%r5,%r2	A5080041
223	0010044c  	STORE.W	%r1,%r5	250000C5
226	00100450  	LRS	%r5,%r0,4	0510804B
227	00100454  	AND	%r5,%r5,0F	A53C8040
229	00100458  	ADD	%r1,%r1,2	21088044
230	0010045c  	ADD	%r5,%r5,55	A5DC8044
231	00100460  	IFL	%r5,A	250880A2
232	00100464  	SUB	%r5,%r5,7	A51C8046
234	00100468  	OR	%r5,%r5,%r2	A5080041
235	0010046c  	STORE.W	%r1,%r5	250000C5
238	00100470  	AND	%r5,%r0,0F	053C8040
240	00100474  	ADD	%r1,%r1,2	21088044
241	00100478  	ADD	%r5,%r5,55	A5DC8044
242	0010047c  	IFL	%r5,A	250880A2
243	00100480  	SUB	%r5,%r5,7	A51C8046
245	00100484  	OR	%r5,%r5,%r2	A5080041
246	00100488  	STORE.W	%r1,%r5	250000C5
248	0010048c  	POP	%r5	05000029
250	00100490  	RET		00000001
257	00100494 clr_screen		
258	00100494  	MOV	%r3,2400	032C8180
259	00100498  	ADD	%r3,%r3,%r0	63000044
261	0010049c  	LLS	%r1,%r1,8	2120804A
262	001004a0  	OR	%r1,%r1,20	21808041
264	001004a4 clr_screen_loop		
265	001004a4  	STORE.W	%r0,%r1	010000C5
266	001004a8  	ADD	%r0,%r0,2	00088044
268	001004ac  	IFLE	%r0,%r3	600000A4
269	001004b0  	RJMP	clr_screen_loop	F0FFFF3A
271	001004b4  	RET		00000001
279	001004b8 hwn		
280	001004b8  	PUSH	%r4	0400002A
281	001004bc  	PUSH	%r5	0500002A
282	001004c0  	MOV	%r3,%r0	03000080
283	001004c4  	MOV	%r0,0	00008080
284	001004c8  	MOV	%r1,0	01008080
286	001004cc hwn_for_loop		
288	001004cc  	LLS	%r4,%r1,8	2420804A
289	001004d0  	ADD	%r4,%r4,110000	8400C04400001100
292	001004d8  	LOAD.B	%r2,%r4	820000C2
293	001004dc  	IFNEQ	%r2,FF	E21F80A1
294	001004e0  	RJMP	hwn_check_cond_for_loop	0C00803A
296	001004e4  	ADD	%r5,%r3,%r0	65000044
297	001004e8  	STORE.B	%r5,%r1	A10000C6
298	001004ec  	ADD	%r0,%r0,1	00048044
300	001004f0 hwn_check_cond_for_loop		
302	001004f0  	ADD	%r1,%r1,1	21048044
303	001004f4  	IFL	%r1,32	010480A2
304	001004f8  	RJMP	hwn_for_loop	D0FFFF3A
306	001004fc end_hwn		
307	001004fc  	POP	%r5	05000029
308	00100500  	POP	%r4	04000029
309	00100504  	RET		00000001
261	00100508 str_not_found		
262	00100508  	.DB	Generic Keyboard not found.,0	47 65 6E 65 72 69 63 20 4B 65 79 62 6F 61 72 64 20 6E 6F 74 20 66 6F 75 6E 64 2E 00
266	00000000  	.ORG	0	
268	00000000 col	.db	0	00
269	00000001 row	.db	0	00
270	00000002 blink	.dw	0	0000
272	00000100  	.ORG	0100	
273	00000100 TDA_base_dev	.dd	0	00000000
274	00000104 GKeyb_base_dev	.dd	0	00000000
Symbols:
00100508  str_not_found
001001dc  arrow_right
0010004c  end_search_tda
001002a0  print
001000ec  loop
00000002  blink
00100390  print_hex_dw
00100494  clr_screen
00000001  row
001004f0  hwn_check_cond_for_loop
00100010  begin_search_tda
00100220  next_line
00100240  dec_cursor
001001b8  enter
001002c4  print_end
00000104  GKeyb_base_dev
00100290  get_offset_from_row_col
0010026c  dec_cursor_end
001001a8  delete
001001c8  arrow_left
0010030c  print_hex_w
00000100  TDA_base_dev
001000d0  end_search_gkeyb
00100140  read_keyb
00100130  blink_off
0010011c  blink_on_real
00100218  inc_cursor_end
00100274  not_found
00000000  col
00100094  begin_search_gkeyb
001002c8  print_hex_b
00100110  blink_on
001002a4  print_loop
001004fc  end_hwn
001004b8  hwn
00100254  dec_cursor_reset_col
001004cc  hwn_for_loop
001004a4  clr_screen_loop
001001f0  inc_cursor
00100288  crash
